#include <stdio.h>
#include <stdint.h>

uint32_t matrix[13][13] =
{
    {56318, 55435, 39177, 22213, 58312, 22620, 25135, 63007, 19718, 25969, 7824, 34034, 54937},
    {50697, 40447, 36839, 32714, 57451, 64484, 19561, 12492, 7940, 5808, 40023, 53039, 45524},
    {17339, 46509, 41720, 17743, 43777, 18454, 53883, 35867, 9173, 15225, 8334, 16205, 9098},
    {36283, 223, 53009, 32364, 43146, 814, 27450, 58986, 4452, 15319, 10053, 16022, 3122},
    {40009, 3993, 21945, 61121, 42736, 65338, 13274, 36133, 59577, 60451, 41909, 28608, 31519},
    {12851, 53332, 49060, 58231, 18026, 3843, 6614, 61522, 33426, 41991, 8824, 46200, 35444},
    {47163, 22304, 56786, 48662, 10487, 6428, 42075, 43076, 7003, 21968, 7323, 29736, 21388},
    {57285, 59295, 35671, 61019, 6141, 43184, 41962, 41288, 14951, 27409, 43637, 60882, 30348},
    {26628, 23618, 41793, 27902, 24210, 46694, 33393, 40528, 47553, 48951, 11936, 27547, 1171},
    {15159, 46182, 5166, 38079, 31541, 35958, 57666, 12310, 29341, 62563, 24859, 7780, 36857},
    {28781, 63208, 6635, 47065, 55871, 65144, 5827, 53107, 49837, 31788, 57265, 15869, 62462},
    {43173, 40021, 18362, 27579, 43204, 60972, 55150, 21328, 22400, 24888, 17593, 36659, 10939},
    {63257, 48374, 58052, 24604, 39581, 4516, 5788, 64307, 41008, 53389, 56660, 64997, 35516},
};

uint32_t kernel[2][2] =
{
	{15, 2},
	{3, 5}
};

int main()
{
    uint32_t output[12][12] = {0};  // Resulting size is 12x12 for a 13x13 matrix with a 2x2 kernel

    // Start Measurement

    for (int y = 0; y < 12; y++)
        for (int x = 0; x < 12; x++)
            for (int ky = 0; ky < 2; ky++)
                for (int kx = 0; kx < 2; kx++)
                    output[y][x] += matrix[y + ky][x + kx] * kernel[ky][kx];

    // End Measurement

    // Print your measurement values (via UART)
    for (int y = 0; y < 12; y++)
    {
        for (int x = 0; x < 12; x++)
            printf("%d ", output[y][x]);
        printf("\n");
    }

    return 0;
}

